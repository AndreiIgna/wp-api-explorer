(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);p&&p(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},i=[];function n(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"7fcdccb2"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=r[t]=[e,s]}));e.push(a[2]=s);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=n(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=r[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",c.name="ChunkLoadError",c.type=s,c.request=i,a[1](c)}r[t]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-lg fixed-top"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("WordPress API explorer")]),a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[t._v("ðŸ‘‹ Menu")]),t._m(0)],1),a("div",{attrs:{id:"content"}},[a("router-view")],1),t._m(1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav"}),a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item ml-4"},[a("a",{staticClass:"nav-link",attrs:{href:"https://github.com/AndreiIgna/wp-api-explorer"}},[t._v("Docs")])]),a("li",{staticClass:"nav-item ml-4"},[a("a",{staticClass:"nav-link",attrs:{href:"https://github.com/AndreiIgna/wp-api-explorer"}},[t._v("GitHub")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"site-footer py-2 text-center"},[a("div",{staticClass:"container"},[a("small",{staticClass:"text-muted"},[t._v("Please secure your site")])])])}],n=(a("5c0b"),a("2877")),o={},l=Object(n["a"])(o,r,i,!1,null,null,null),c=l.exports,d=(a("d3b7"),a("8c4f")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("section",{staticClass:"page-head"},[a("div",{staticClass:"container text-center py-5"},[a("h3",{staticClass:"mb-3"},[t._v("Url of any WordPress site")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"form-control form-control-lg wp-url",attrs:{type:"url",placeholder:"Ex: https://ma.tt/"},domProps:{value:t.q},on:{input:function(e){e.target.composing||(t.q=e.target.value)}}})])])])]),a("div",{staticClass:"container my-5"},["loading"===t.state?a("div",[t._m(0)]):t._e(),"error"===t.state?a("div",[a("div",{staticClass:"alert alert-danger"},[a("strong",[t._v("Oops.")]),t._v(" Probably this is not a WordPress site. ("+t._s(this.site.error)+") ")])]):t._e(),"idle"===t.state?a("div",[a("ul",{staticClass:"nav nav-tabs mb-3"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:{active:!t.$route.params.tab},attrs:{to:"/"+t.$route.params.host}},[t._v("Overview")])],1),t._l(t.site.types,(function(e){return a("li",{key:e.slug,staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",class:{active:t.$route.params.tab===e.slug},attrs:{to:"/"+t.$route.params.host+"/"+e.slug}},[t._v(t._s(e.name)+" "),e.total?a("span",{staticClass:"badge badge-light-secondary badge-pill"},[t._v(t._s(e.total))]):t._e()])],1)}))],2),"attachment"===t.$route.params.tab&&t.site.types.attachment?a("div",[a("div",{staticClass:"row row-cols-1 row-cols-md-3 row-cols-lg-3"},t._l(t.site.types.attachment.items,(function(e){return a("div",{key:e.id,staticClass:"col my-2"},["file"===e.media_type&&e.mime_type.includes("video/")?a("div",{staticClass:"card"},[a("div",{staticClass:"embed-responsive embed-responsive-16by9"},[a("video",{attrs:{controls:"",width:"250",loading:"lazy"}},[a("source",{attrs:{src:e.source_url,type:e.mime_type}}),t._v(" Sorry, your browser doesn't support embedded videos. ")])]),a("div",{staticClass:"card-body"},[a("h6",{staticClass:"card-title"},[a("a",{attrs:{href:e.source_url,target:"_blank",rel:"noreferer"}},[t._v(t._s(e.title.rendered))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"badge badge-light-success mr-1"},[t._v(t._s(e.mime_type))]),a("span",{staticClass:"badge badge-light-secondary mr-1"},[t._v(t._s(e.media_details.length_formatted))]),a("span",{staticClass:"badge badge-light-secondary mr-1"},[t._v(t._s(e.media_details.width||"-")+"x"+t._s(e.media_details.height||"-"))]),a("span",{staticClass:"badge badge-light-secondary"},[t._v(t._s(e.date))])]),a("p",{staticClass:"card-text",domProps:{innerHTML:t._s(e.caption.rendered)}})])]):"image"===e.media_type?a("div",{staticClass:"card"},[a("a",{attrs:{href:e.source_url,target:"_blank",rel:"noreferer"}},[a("img",{staticClass:"card-img-top",attrs:{src:e.media_details.sizes.full?(e.media_details.sizes.medium||e.media_details.sizes.full).source_url:e.source_url,loading:"lazy",alt:e.title.rendered}})]),a("div",{staticClass:"card-body"},[a("h6",{staticClass:"card-title"},[a("a",{attrs:{href:e.source_url,target:"_blank",rel:"noreferer"}},[t._v(t._s(e.title.rendered))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"badge badge-light-info mr-1"},[t._v(t._s(e.mime_type))]),a("span",{staticClass:"badge badge-light-secondary mr-1"},[t._v(t._s(e.media_details.width||"-")+"x"+t._s(e.media_details.height||"-"))])]),a("p",{staticClass:"card-text"},[t._v(t._s(e.caption.rendered))])])]):a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h6",{staticClass:"card-title"},[t._v(t._s(e.title.rendered))]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"badge badge-light-secondary"},[t._v(t._s(e.media_type))]),t._v(" "+t._s(e.caption.rendered))]),a("p",{staticClass:"card-text"},[a("a",{attrs:{href:e.guid.rendered,target:"_blank",rel:"noreferer"}},[t._v("link")])])])])])})),0),!t.site.types[t.$route.params.tab].total||t.site.types[t.$route.params.tab].items.length<t.site.types[t.$route.params.tab].total?a("p",[a("button",{staticClass:"btn btn-sm btn-light",on:{click:function(e){return t.load("attachment")}}},[t._v("Load more")]),"loading"===t.site.types[t.$route.params.tab].state?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}):t._e()]):t._e(),t.site.types[t.$route.params.tab].error?a("div",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.site.types[t.$route.params.tab].error)+" ")]):t._e()]):t.$route.params.tab&&t.site.types[t.$route.params.tab]?a("div",[a("div",{staticClass:"bg-white rounded p-2 mb-3"},[a("strong",[t._v(t._s(t.site.types[t.$route.params.tab].total))]),t._v(" items over "),a("strong",[t._v(t._s(t.site.types[t.$route.params.tab].totalPages))]),t._v(" pages ")]),a("div",{staticClass:"row row-cols-1 row-cols-md-3"},t._l(t.site.types[t.$route.params.tab].items,(function(e){return a("div",{key:e.id,staticClass:"col my-2"},[a("div",{staticClass:"card h-100"},[e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"].length?a("a",{attrs:{href:e.link,target:"_blank",rel:"noreferer"}},[a("img",{staticClass:"card-img-top",attrs:{src:e._embedded["wp:featuredmedia"][0].source_url,loading:"lazy",alt:e._embedded["wp:featuredmedia"][0].alt_text}})]):t._e(),a("div",{staticClass:"card-body"},[a("h6",{staticClass:"card-title"},[a("a",{attrs:{href:e.link,target:"_blank",rel:"noreferer"},domProps:{innerHTML:t._s(e.title.rendered)}})]),a("div",{staticClass:"card-text",domProps:{innerHTML:t._s(e.excerpt.rendered)}})]),a("div",{staticClass:"card-footer"},[a("p",{staticClass:"mb-1"},[t._v(" Date: "+t._s(e.date)+" ")]),e._embedded.author&&e._embedded.author.length?a("p",{staticClass:"mb-1"},[t._v(" Author: "),t._l(e._embedded.author,(function(e){return a("a",{directives:[{name:"show",rawName:"v-show",value:e.id,expression:"author.id"}],key:e.id,attrs:{href:e.link,target:"_blank",rel:"noreferer"}},[e.id?a("img",{staticClass:"rounded-circle",attrs:{src:e.avatar_urls["24"],height:"18",alt:e.name}}):t._e(),t._v(" "+t._s(e.name))])}))],2):t._e(),e._embedded["wp:term"]&&e._embedded["wp:term"].length?a("div",t._l(e._embedded["wp:term"],(function(e,s){return a("p",{key:s,staticClass:"mb-1"},[e.length?a("span",{staticClass:"text-capitalize"},[t._v(t._s(e[0].taxonomy)+": ")]):t._e(),t._l(e,(function(e){return a("a",{key:e.id,staticClass:"mr-1",attrs:{href:e.link,target:"_blank",rel:"noreferer"}},[t._v(t._s(e.name))])}))],2)})),0):t._e()])])])})),0),a("ul",t._l(t.site.types[t.$route.params.tab].items,(function(e){return a("li",{key:e.id},[a("a",{attrs:{href:e.link,target:"_blank",rel:"noreferer"},domProps:{innerHTML:t._s(e.title.rendered)}}),t._v(" "),a("span",{staticClass:"badge badge-light-secondary"},[t._v(t._s(e.date))])])})),0),!t.site.types[t.$route.params.tab].total||t.site.types[t.$route.params.tab].items.length<t.site.types[t.$route.params.tab].total?a("p",[a("button",{staticClass:"btn btn-sm btn-light",on:{click:function(e){return t.load(t.$route.params.tab)}}},[t._v("Load more")]),"loading"===t.site.types[t.$route.params.tab].state?a("span",{staticClass:"spinner-border spinner-border-sm ml-1",attrs:{role:"status"}}):t._e()]):t._e(),t.site.types[t.$route.params.tab].error?a("div",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.site.types[t.$route.params.tab].error)+" ")]):t._e()]):a("div",[a("table",{staticClass:"table"},[a("tr",[a("th",[t._v("Site URL")]),a("td",[t._v(t._s(t.site.info.url))])]),a("tr",[a("th",[t._v("Homepage")]),a("td",[t._v(t._s(t.site.info.home))])]),a("tr",[a("th",[t._v("Name")]),a("td",[t._v(t._s(t.site.info.name))])]),a("tr",[a("th",[t._v("Description")]),a("td",[t._v(t._s(t.site.info.description))])]),a("tr",[a("th",[t._v("Timezone")]),a("td",[t._v(t._s(t.site.info.timezone_string)+", "+t._s(t.site.info.gmt_offset)+"h from UTC")])]),a("tr",[a("th",[t._v("Namespaces")]),a("td",t._l(t.site.info.namespaces,(function(e,s){return a("span",{key:s,staticClass:"badge badge-light-secondary mr-1"},[t._v(t._s(e))])})),0)]),a("tr",[a("th",[t._v("Authentication")]),a("td",[t._v(t._s(t.site.info.authentication))])])])])]):t._e()])])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],m=(a("99af"),a("ac1f"),a("3ca3"),a("5319"),a("2ca0"),a("498a"),a("ddb0"),a("2b3d"),a("2909")),_=a("bc3a"),v=a.n(_),b={name:"Home",components:{},props:["query"],data:function(){return{q:this.query||"",state:"waiting",perPage:100,apiUrl:"",site:{info:null,types:{},error:""}}},created:function(){this.$route.params.host&&(this.q=this.$route.params.host)},mounted:function(){document.querySelector(".wp-url").focus()},methods:{loadWpApi:function(t){var e=this;this.state="loading",this.site.error="",t.startsWith("http://")||t.startsWith("https://")||(t="https://".concat(t)),t=new URL(t),t.host!==this.$route.params.host&&this.$router.push({name:"Home",params:{host:t.host,tab:this.$route.params.tab}}),this.site.apiUrl="".concat(t.origin,"/wp-json"),this.apiRequest().then((function(t){var a=t.data,s=t.headers;e.site.apiUrl=a.home+"/wp-json",e.site.info=a,console.log(s),console.log(a),e.apiRequest("/wp/v2/types").then((function(t){var a=t.data;for(var s in a)a[s].total=0,a[s].totalPages=0,a[s].page=1,a[s].items=[],a[s].state="idle",a[s].error=null;e.site.types=a,e.$route.params.tab&&a[e.$route.params.tab]&&e.load(e.$route.params.tab)})),e.state="idle"}),(function(t){e.state="error",e.site.error=t.message}))},apiRequest:function(t,e){return t=t||"",e=e||{},v.a.get("".concat(this.site.apiUrl).concat(t),e)},load:function(t){var e=this.site.types[t];e.state="loading",e.error=null;var a={per_page:this.perPage,page:e.page++,_embed:1};this.apiRequest("/wp/v2/".concat(e.rest_base),{params:a}).then((function(t){var a,s=t.data,r=t.headers;e.total=r["x-wp-total"]||0,e.totalPages=r["x-wp-totalpages"]||0,(a=e.items).push.apply(a,Object(m["a"])(s)),e.state="idle"}),(function(t){e.state="error",e.error=t.message,console.log("error",t)}))}},watch:{q:function(t,e){t=t.replace(/\s/g,"").toLowerCase().trim(),t!==e.replace(/\s/g,"").toLowerCase().trim()&&this.loadWpApi(t)},$route:function(t,e){console.log(t.params,e.params),t.params.tab&&this.site.types[t.params.tab]&&1===this.site.types[t.params.tab].page&&this.load(t.params.tab)}}},h=b,f=Object(n["a"])(h,p,u,!1,null,null,null),g=f.exports;s["a"].use(d["a"]);var y=[{path:"/:host?/:tab?",name:"Home",component:g},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],C=new d["a"]({mode:"history",base:"/",routes:y}),w=C;s["a"].config.productionTip=!1,new s["a"]({router:w,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),r=a.n(s);r.a},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.b6f05141.js.map